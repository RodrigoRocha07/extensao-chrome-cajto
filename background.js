function removerScript(){window.scriptBloqueado=!0,console.log("Script foi interrompido após o logout.")}chrome.runtime.onInstalled.addListener(function(o){"install"!==o.reason&&"update"!==o.reason||chrome.storage.sync.set({loggedIn:!1,scriptAtivado:!1},function(){console.log("Estado de login e script resetados para false após instalação ou atualização.")})}),chrome.tabs.onUpdated.addListener(function(e,o,t){"complete"===o.status&&/^http/.test(t.url)&&chrome.storage.sync.get(["loggedIn","scriptAtivado"],function(o){console.log("Verificando o estado do scriptAtivado:",o.scriptAtivado),!0===o.loggedIn&&!0===o.scriptAtivado?(console.log("Usuário logado e script ativado. Injetando content.js..."),chrome.scripting.executeScript({target:{tabId:e},files:["content.js"]},()=>console.log("Script injetado com sucesso."))):console.log("Usuário não está logado ou o script não está ativado. Nenhuma ação tomada.")})}),chrome.runtime.onSuspend.addListener(()=>{console.log("Extensão está sendo removida ou suspensa."),chrome.storage.sync.set({loggedIn:!1,scriptAtivado:!1},function(){console.log("Estado de login e scriptAtivado resetados após suspensão ou remoção da extensão.")})});